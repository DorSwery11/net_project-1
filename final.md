# דוח מסכם: פרויקט תקשורת מחשבים - חלק 1

**מגישים:** [שם סטודנט 1] [מספר ת.ז.], [שם סטודנט 2] [מספר ת.ז.]  
**תאריך:** [תאריך הגשה]  
**קישור ל-GITHUB:** [אם קיים]

---

## מהו פרוטוקול HTTP?

פרוטוקול HTTP (HyperText Transfer Protocol) הוא פרוטוקול שכבת האפליקציה במודל ה-OSI, המשמש להעברת מסמכי היפר-טקסט (כגון HTML) ברחבי האינטרנט. הפרוטוקול פועל במודל Client-Server (לקוח-שרת):

• **הלקוח (Client):** סקריפט, כמו קובץ ה-Python, שולח בקשה לשרת.  
• **השרת (Server):** מאזין לבקשות, מעבד אותן ומחזיר תשובה הכוללת קוד סטטוס (כגון 200 OK או 404 Not Found) ואת המידע המבוקש.

HTTP מסתמך על פרוטוקול TCP בשכבת התעבורה כדי להבטיח אמינות, סדר ושלמות הנתונים. כל בקשת HTTP מתחילה ב-Three-Way Handshake של TCP לפני שהמידע עצמו מועבר.

---

## יצירת קובץ ה-CSV

לצורך ביצוע הפרויקט, יצרנו קובץ נתונים בשם `group05_http_input.csv`.

• **אופן יצירת הקובץ:** [ציין כאן את אופן יצירת הקובץ - האם נוצר באמצעות ChatGPT, לכידת תעבורה ב-Wireshark, יצירה ידנית וכו']

• **מבנה הקובץ:** הקובץ מכיל את השדות הבאים:
  - `msg_id` - מזהה ייחודי לכל הודעה
  - `app_protocol` - פרוטוקול שכבת האפליקציה (HTTP)
  - `src_app` - מקור ההודעה (client_browser)
  - `dst_app` - יעד ההודעה (web_server)
  - `message` - תוכן ההודעה (למשל: GET /index.html)
  - `timestamp` - חותם זמן של ההודעה

שדות אלו משמשים כבסיס לסימולציית המידע שעובר ברשת.

**תוכן הקובץ:**
```
msg_id,app_protocol,src_app,dst_app,message,timestamp
1,HTTP,client_browser,web_server,GET /index.html,0.01
2,HTTP,web_server,client_browser,HTTP/1.1 200 OK,0.02
3,HTTP,client_browser,web_server,GET /about.html,0.05
4,HTTP,web_server,client_browser,HTTP/1.1 200 OK,0.06
5,HTTP,client_browser,web_server,GET /api/users,0.10
6,HTTP,web_server,client_browser,HTTP/1.1 200 OK,0.11
```

---

## תהליך ה-Encapsulation והרצת ה-Jupyter

בשלב זה השתמשנו במחברת (`networking_proj.ipynb`) כדי לדמות את תהליך אריזת הנתונים כפי שמתרחש במודל ה-TCP/IP.

תהליך ה-Encapsulation הקורה בקוד במחברת לא רק "שולח" את ההודעה, אלא מדמה את תהליך ההוספה של Headers בכל שכבה, בדומה למערכת הפעלה אמיתית:

**Headers** - הם מידע טכני שמודבק לתחילת ההודעה כדי שהמחשבים ידעו איך לטפל בה.

תהליך זה מדמה התנהגות של Client המייצר תעבורה, אותה אנו רואים לאחר מכן נלכדת בכלי ה-Wireshark.

### שלבי ה-Encapsulation:

1. **שכבת היישום (Application Layer)**
   - הקוד לוקח את ה-Message מה-CSV (למשל: "GET /index.html") ומוסיף לו כותרות של פרוטוקול HTTP.
   - בשלב זה ההודעה מוכנה להיות מועברת בשכבת האפליקציה.

2. **שכבת התעבורה (Transport Layer - TCP)**
   - המידע נעטף ב-TCP Header.
   - בשלב זה מוגדרים:
     - `Src_port` - פורט המקור (מספר אקראי בין 1024-65535)
     - `Dst_port` - פורט היעד (12345)
     - דגלים ראשוניים (Flags) - כגון SYN, ACK, PSH
     - Sequence Number ו-Acknowledgment Number
     - Window Size

3. **שכבת הרשת (Network Layer - IP)**
   - החבילה מקבלת IP Header עם:
     - כתובת IP מקור: `127.0.0.1` (Loopback)
     - כתובת IP יעד: `127.0.0.1` (Loopback)
     - TTL (Time To Live): 64
     - Protocol: TCP (6)
     - Header Checksum

4. **שכבת הקישור (Link Layer)**
   - החבילה מוכנה לשליחה ברשת המקומית.

בסיום ה-Encapsulation הסקריפט שולח את החבילה המוכנה לרשת, שם קולטים אותה ב-Wireshark.

---

## תהליך הלכידה ב-Wireshark

כדי ללכוד את התעבורה שנוצרה על ידי הסקריפט, ביצענו את הפעולות הבאות ב-Wireshark:

1. **פתיחת Wireshark ובחירת ממשק רשת:**
   - פתחנו את תוכנת Wireshark ובחרנו בממשק הרשת **Npcap Loopback Adapter** (או "Adapter for loopback traffic capture").
   - בחירה זו נדרשת מאחר והתקשורת היא מקומית בין תהליכים באותו מחשב (127.0.0.1).

2. **הגדרת מסנן תצוגה:**
   - הפעלנו מסנן תצוגה: `tcp.port == 12345`
   - מטרת המסנן היא לבודד רק את התעבורה הקשורה לפרויקט ולהתעלם מרעשי רקע של המחשב.

3. **הרצת הסקריפט:**
   - הרצנו את הסקריפט במחברת Jupyter.
   - צפינו בתעבורה בזמן אמת ב-Wireshark.

4. **שמירת הלכידה:**
   - עצרנו את הלכידה ושמרנו את התוצאה בקובץ `.pcap`.

---

## ניתוח התעבורה ב-Wireshark

### צילום מסך 1: [כותרת הצילום]

**[הדבק כאן את צילום המסך הראשון מ-Wireshark]**

**ניתוח:**
[תיאור מפורט של מה שרואים בצילום המסך]

בצילום המסך המצורף, ניתן לראות [תיאור המצב - למשל: ניסיון יצירת קשר TCP, שליחת הודעות, תגובות RST וכו'].

בתמונה ניתן לראות ניסיון יצירת קשר בין שני פורטים על גבי המחשב המקומי 127.0.0.1:

• **Source Port:** [מספר הפורט] - הלקוח שמנסה להתחבר - הסקריפט שאנחנו מריצים  
• **Destination Port:** 12345 - השרת אליו מנסים לפנות  
• **SYN** – דגל המבקש להתחיל חיבור TCP חדש.  
• **ACK** – אישור שההתחברות הראשונית מהצד השני התבצעה ועד לרגע זה החיבור תקין.  
• **PSH** – דגל המסמן שיש מידע שצריך להעביר מיד לשכבת האפליקציה.  
• **RST** = RESET - דגל המסמן ניתוק מידי של הקשר. ה-RST מעיד על תקלה או על כך שהצד השני אינו פעיל.  
• **WIN** - מנגנון בקרת זרימה המודיע לשולח כמה מקום פנוי יש למקבל.

---

### צילום מסך 2: [כותרת הצילום]

**[הדבק כאן את צילום המסך השני מ-Wireshark]**

**ניתוח:**
[תיאור מפורט של מה שרואים בצילום המסך]

#### הסבר על הצבעים והדגלים שנלכדו:

**א. שורות עם רקע [צבע] וטקסט [צבע]:**
שורות אלו מייצגות [תיאור - למשל: את הניסיון של הלקוח לשלוח מידע].

• **SEQ = [מספר]** - מודיע שהחיבור הראשוני הצליח מבחינת המספור, והמחשב שולח את הבית הראשון של המידע.  
• **LEN > 0** - בשורות אלו יש תוכן. כפי שניתן לראות ב-Payload, ההודעה שנשלחת היא "[תוכן ההודעה]".  
• **המשמעות:** [הסבר על מה שקורה]

**ב. שורות עם רקע [צבע] ([דגל]):**
אלו הן [תיאור - למשל: תשובות ה"שרת"]:

• **[דגל],ACK:** [הסבר על הדגל]  
• **WIN=[מספר]:** [הסבר על גודל החלון]  
• **LEN = 0:** [הסבר - למשל: הודעת שגיאה זו היא טכנית בלבד ואינה מכילה מידע משכבת האפליקציה]

---

### צילום מסך 3: ניתוח מבנה החבילה (Packet Details)

**[הדבק כאן את צילום המסך עם פרטי החבילה מ-Wireshark]**

**ניתוח:**
בבחינת חלונית הפרטים, ניתן לראות את חלוקת המידע לשכבות הפרוטוקול:

#### שכבת ה-IP (Internet Protocol):

• **Version:** 4 - גרסת פרוטוקול IP  
• **Header Length:** 20 bytes - אורך כותרת IP  
• **Time to Live (TTL):** הערך הוא 64. זהו ערך סטנדרטי המעיד שהחבילה לא עברה דרך ראוטרים, מה שמאשש שמדובר בתעבורה פנימית (Localhost).  
• **Protocol:** TCP (6)  
• **Source IP:** 127.0.0.1  
• **Destination IP:** 127.0.0.1  
• **Header Checksum:** מופיע כ-Unverified. זהו מצב תקין ולא שגיאה; מערכת ההפעלה מעבירה את חישוב "ספרת הביקורת" לכרטיס הרשת (Offloading) כדי לחסוך במשאבים, ולכן Wireshark (שלוכד את המידע לפני כן) לא רואה את הערך הסופי.

#### שכבת התעבורה (TCP):

• **Source Port:** [מספר] - פורט המקור  
• **Destination Port:** 12345 - פורט היעד  
• **Sequence Number:** [מספר] - מספר רצף של הנתונים  
• **Acknowledgment Number:** [מספר] - אישור קבלה  
• **Header Length:** 20 bytes  
• **Flags:** [רשימת הדגלים]  
• **Window Size:** [מספר] - גודל חלון הזרימה  
• **Len (Length):** מציין את אורך המידע נטו (Payload) שנשלח בחבילה זו ([מספר] בתים).

#### שכבת האפליקציה (Application Layer):

• **Payload:** [תוכן ההודעה מהקובץ CSV, למשל: "GET /index.html"]

---

### צילום מסך 4: [כותרת נוספת לפי הצורך]

**[הדבק כאן צילום מסך נוסף אם יש]**

**ניתוח:**
[תיאור מפורט]

---

## סיכום האירועים

### סיכום כללי:

1. **שליחת הודעות מהקובץ CSV:**
   - הסקריפט קורא את ההודעות מקובץ ה-CSV (`group05_http_input.csv`).
   - כל הודעה עוברת תהליך Encapsulation מלא דרך שכבות TCP/IP.

2. **יצירת חבילות:**
   - כל הודעה הופכת לחבילה (Packet) עם Headers של IP ו-TCP.
   - החבילות נשלחות ליעד 127.0.0.1:12345.

3. **לכידה ב-Wireshark:**
   - Wireshark לוכד את כל החבילות הנשלחות.
   - ניתן לראות את המבנה המלא של כל שכבה.

4. **תגובות המערכת:**
   - מאחר ואין שרת אמיתי שמאזין בפורט 12345, מערכת ההפעלה מחזירה הודעות RST.
   - הלקוח מנסה לבצע Retransmission - שידור חוזר של המידע.

### קישור בין ההודעות ב-CSV לחבילות ב-Wireshark:

| msg_id | הודעה ב-CSV | חבילה ב-Wireshark | הערות |
|--------|-------------|-------------------|-------|
| 1 | GET /index.html | [מספר חבילה] | [הערות] |
| 2 | HTTP/1.1 200 OK | [מספר חבילה] | [הערות] |
| 3 | GET /about.html | [מספר חבילה] | [הערות] |
| 4 | HTTP/1.1 200 OK | [מספר חבילה] | [הערות] |
| 5 | GET /api/users | [מספר חבילה] | [הערות] |
| 6 | HTTP/1.1 200 OK | [מספר חבילה] | [הערות] |

---

## מסקנות

במסגרת חלק זה של הפרויקט, הצלחנו:

1. ✅ ליצור קובץ CSV עם הודעות HTTP בשכבת האפליקציה.
2. ✅ להריץ מחברת Jupyter המדמה תהליך Encapsulation מלא של חבילות TCP/IP.
3. ✅ ללכוד את התעבורה ב-Wireshark ולהבין את המבנה של כל שכבה.
4. ✅ לנתח את החבילות שנלכדו ולהסביר את תהליך התקשורת.

הפרויקט הדגים בצורה מעשית את תהליך אריזת הנתונים בשכבות TCP/IP ואת האופן שבו מידע עובר ברשת מחשבים.

---

## נספחים

### נספח א': קובץ CSV המלא
[העתק כאן את תוכן הקובץ CSV אם נדרש]

### נספח ב': קוד המחברת
[התייחסות לקוד המחברת או העתקת חלקים רלוונטיים]

---

**סוף הדוח**
